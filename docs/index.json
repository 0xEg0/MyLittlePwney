[{"categories":["heap","attacks"],"content":"fa-solid fa-trash-can fa-fw fa-sm","date":"2023-02-20","objectID":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/","tags":["pwn","heap"],"title":"ðŸ”¥ House of Force ðŸ”¥","uri":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/"},{"categories":["heap","attacks"],"content":" OverviewLâ€™objectif de cette attaque est dâ€™overwrite les metadata du top chunk pour augmenter sa size. Ainsi on va pouvoir faire des malloc sur un espace mÃ©moire beaucoup plus grand et donc malloc en dehors de la HEAP. ","date":"2023-02-20","objectID":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/:1:0","tags":["pwn","heap"],"title":"ðŸ”¥ House of Force ðŸ”¥","uri":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/"},{"categories":["heap","attacks"],"content":" DetailDans les versions de la GLIBC \u003c 2.29, il nâ€™y a pas de check sur lâ€™intÃ©gritÃ© des metadata du top chunk. Ainsi, si la size du top chunk est overwrite, lâ€™algorithme malloc fonctionnera quand mÃªme. Comme les chunks sont allouÃ©s Ã  partir du top chunk, si on overwrite la size du top chunk, on devrait Ãªtre en mesure de couvrir lâ€™ensemble des adresses de la mÃ©moire, y compris les addresses en dehors de la heap. Lâ€™intÃ©rÃªt de cette attaque est de pouvoir overwrite des valeurs Ã  des adresses plus basses que lâ€™adresse de la HEAP. Voir de simplement overwrite des valeurs en dehors de la HEAP. ","date":"2023-02-20","objectID":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/:2:0","tags":["pwn","heap"],"title":"ðŸ”¥ House of Force ðŸ”¥","uri":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/"},{"categories":["heap","attacks"],"content":" ExploitLâ€™attaque en elle mÃªme se dÃ©roule en 3 Ã©tapes : Overflow notre buffer et overwrite la size du top chunk. On va le set Ã  une valeur suffisamment grande pour que lâ€™adresse ciblÃ©e soit comprise dans la range dâ€™adresses couvertes par le top chunk. On fait un malloc pour placer le dÃ©but du top chunk juste avant lâ€™adresse ciblÃ©e. On effectue un nouveau malloc() qui va nous permettre dâ€™atteindre lâ€™adresse ciblÃ©e. ","date":"2023-02-20","objectID":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/:3:0","tags":["pwn","heap"],"title":"ðŸ”¥ House of Force ðŸ”¥","uri":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/"},{"categories":["heap","attacks"],"content":" Further usePour aller plus loin, on peut tenter dâ€™utiliser cette attaque pour obtenir un shell. Pour cela, un stratÃ©gie peut Ãªtre dâ€™overwrite lâ€™adresse du Malloc hook. Ce dernier Ã©tant utilisÃ© Ã  chaque appel de la fonction malloc(), on peut le remplacer par lâ€™adresse de la fonction system() et lui passer une adresse pointant vers un \"/bin/sh\". Ainsi, chaque nouvel appel Ã  la fonction malloc() va hook vers un appel Ã  system(). ","date":"2023-02-20","objectID":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/:4:0","tags":["pwn","heap"],"title":"ðŸ”¥ House of Force ðŸ”¥","uri":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/"},{"categories":["heap","attacks"],"content":" LimitationsA partir de la GLIBC 2.29, la size du top chunk est vÃ©rifiÃ©e pour sâ€™assurer que le top chunk ne sorte pas de sa zone mÃ©moire. GLIBC Top Chunk Size check ","date":"2023-02-20","objectID":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/:5:0","tags":["pwn","heap"],"title":"ðŸ”¥ House of Force ðŸ”¥","uri":"/MyLittlePwney/pwn/heap-attacks/attacks/house-of-force/"},{"categories":null,"content":"fcsc ","date":"0001-01-01","objectID":"/MyLittlePwney/writeups/test/:0:0","tags":null,"title":"","uri":"/MyLittlePwney/writeups/test/"}]